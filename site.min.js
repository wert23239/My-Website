/*! mywebsite 2016-06-06 */
function TypeName(a){console.log(a),this.Name=a,this.TypeOut()}function KonamiComputer(){var a=[],b="38,38,40,40,37,39,37,39,66,65";$(document).keydown(function(c){a.push(c.keyCode),a.toString().indexOf(b)>=0&&($(document).unbind("keydown",arguments.callee),window.location="http://levelgame.net")})}function MissYou(){$(function(){var a=$("title").text();$(window).blur(function(){$("title").text(":( come back")}),$(window).focus(function(){$("title").text(a)})})}function parse_json(a){try{var b=$.parseJSON(a)}catch(c){throw"JSON parse error: "+a}return b}function PipePlay(a){this.initialize(a)}function ProjectDisplay(a){this.initialize(a),console.log("id",a)}!function(a){a(document).ready(function(){a("#cssmenu").prepend('<div id="menu-button">Menu</div>'),a("#cssmenu #menu-button").on("click",function(){var b=a(this).next("ul");b.hasClass("open")?b.removeClass("open"):b.addClass("open")})})}(jQuery),TypeName.prototype.TypeOut=function(){var a=this;$(function(){$(".Typed").typed({strings:[a.Name],typeSpeed:50})})},PipePlay.prototype.initialize=function(a){for(var b=this,c=$(".game"),d=c.find(".row"),e=0;e<d.length;e++)for(var f=$(d.get(e)),g=f.find(".cell"),h=0;h<g.length;h++){var i=$(g.get(h)),i=$(g.get(h)),j=$(i.find("#grid"));void 0===j.val()?console.log("null"):(value=j.val().split("-",2),b.installListenerTiles(value[0],value[1],j,a))}for(var k=$(".player-controls"),l=k.find(".pipe"),m=0;m<l.length;m++){var n=$(l.get(m));n.find('input[name="pipe"]').val()}for(var o=k.find(".buttons"),m=0;m<o.length;m++){var p=$(o.get(m));b.installListenerButtons(p.val(),p)}var q=$(a);q.submit(function(a){a.preventDefault()})},PipePlay.prototype.installListenerTiles=function(a,b,c,d){var e=this;c.click(function(){var c=$("input[name=pipe]:checked","#myForm").val();$.ajax({url:"game-post.php",data:{row:a,col:b,pipe:c,grid:!0,ajax:!0},method:"POST",success:function(a){var b=parse_json(a);console.log(b),b.ok&&(e.update(b.grid),e.initialize(d))},error:function(a,b,c){e.message("<p>Error: "+c+"</p>")}})})},PipePlay.prototype.installListenerButtons=function(a,b,c){var d=this;b.click(function(){var b=$("input[name=pipe]:checked","#myForm").val();$.ajax({url:"game-post.php",data:{button:a,pipe:b,gird:!0,ajax:!0},method:"POST",success:function(a){var b=parse_json(a);b.ok&&(d.update(b.grid),d.initialize(c))},error:function(a,b,c){d.message("<p>Error: "+c+"</p>")}})})},PipePlay.prototype.update=function(a,b){$("form").html(a)},ProjectDisplay.prototype.initialize=function(a){var b=this,c=13;0!=a&&(c=parseInt(a)-1);var d=0;13!=a&&(d=parseInt(a)+1);var e=$(".previous");console.log("button previous",e),b.installListener(e,c);var f=$(".next");console.log("button next",f),console.log("idplus",d),b.installListener(f,d)},ProjectDisplay.prototype.installListener=function(a,b){var c=this;console.log("listernerid",b),a.click(function(a){a.preventDefault(),$.ajax({url:"page-post.php",data:{id:b,ajax:!0},method:"POST",success:function(a){console.log("close");var d=parse_json(a);console.log(d),console.log(d.ok),d.ok&&c.update(d.NewProject,b)},error:function(a,b,d){c.message("<p>Error: "+d+"</p>")}})})},ProjectDisplay.prototype.update=function(a,b){var c=this;console.log("NewProject:"),console.log(a),$(".jumbotron").slideUp(500,"swing",function(){$(".jumbotron").html(a),c.initialize(b)}).delay(500).slideDown(500,"swing")},ProjectDisplay.prototype.message=function(a){$("jumbotron").fadeOut(1e3),$("jumbotron").html(a)};